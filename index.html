<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="stacked-area.css">
<link rel="stylesheet" type="text/css" href="chart-tooltip.css">

<div class="wrapper">
<div class="container">

<div class="tooltip-wrapper">
        <div class="tooltip-container">
                <div class="tooltip">
                </div>
            </div>
    </div>
</div>
</div>




<script src="//d3js.org/d3.v4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js"></script>
<script src="chart-tooltip.js"></script>
<script src="stacked-area.js"></script>
<script>

    d3.json("data/data-3.json", function (error, res) {
        if (error) throw error;

        const config = {
        tooltip: {
            map: {
            r: 'Read',
            w: 'Write'
            },
            label: `val1 val2 IOPS`
        },
        threshold: `95th Percentile val IOPS`,
        layerColors: ['#F24092', '#007DB8'],
        selector: '.container',
        data: res
        };

        drawChart(config);

    });

    document.querySelector('div.container').addEventListener('toggleTooltip', toggleToolTip);

    function toggleToolTip(evt){
      const show = evt.detail.show;
      const tooltip = new ChartTooltip(evt.detail);
      if(show){
        tooltip.show();
      }else{
        tooltip.hide();
      }
    }



</script>